/*! Built with http://stenciljs.com */
const{h:t}=window.App;class e{constructor(){this.categoryList=["AGRICULTURE","ENERGY","EQUITY INDEX","FX","INTEREST RATES","METALS","REAL ESTATE","WEATHER"],this.exchangeList=["COMEX","CBOT","CME","NYMEX","DME"],this.showedCats=this.categoryList,this.showedExs=this.exchangeList,this.showCatOptions=!1,this.showExOptions=!1,this.focusCatOptions=!1,this.focusExOptions=!1,this.searchTerm="",this.handleSearchInput=(t=>{this.newSearch.emit(t.target.value)}),this.handleRadio=(t=>{this.newProductLevel.emit(t.target.value)}),this.handleCheckbox=(t=>{this.newInstrumType.emit(t.target.value)}),this.handleClick=(t=>{"APP-MULTI-SELECT"==t.target.tagName?"category"==t.target.id?(this.showCatOptions=!this.showCatOptions,this.focusCatOptions=!0):"exchange"==t.target.id&&(this.showExOptions=!this.showExOptions,this.focusExOptions=!0):(this.showCatOptions=!1,this.showExOptions=!1,this.focusCatOptions=!1,this.focusExOptions=!1)}),this.handleReset=(()=>{this.resetFilter.emit()})}handleNewProductLevel(){this.showedCats=this.categoryList,this.showedExs=this.exchangeList}handleFilterOptions(t){"category"==t.detail.id?(this.showedCats=this.categoryList.filter(function(e){return t.detail.data.test(e)}),this.showCatOptions=!0):"exchange"==t.detail.id&&(this.showedExs=this.exchangeList.filter(function(e){return t.detail.data.test(e)}),this.showExOptions=!0)}handleInputFocus(t){"category"==t.detail.id?this.focusCatOptions=!0:"exchange"==t.detail.id&&(this.focusExOptions=!0)}render(){return t("div",{onClick:this.handleClick,class:"wrap"},t("div",null,"Refine Your Search"),t("app-button",{onClick:this.handleReset},"Reset"),t("div",{class:"input-wrap"},t("input",{class:"text-input",type:"text",maxlength:"150",value:this.searchTerm,onInput:this.handleSearchInput})),t("label",null,t("input",{type:"radio",name:"products",value:"individual",onInput:this.handleRadio,checked:"individual"==this.productLevel}),"Individual products"),t("label",null,t("input",{type:"radio",name:"products",value:"complete",onInput:this.handleRadio,checked:"complete"==this.productLevel}),"Complete individual exchange"),t("label",null,t("input",{type:"radio",name:"products",value:"all",onInput:this.handleRadio,checked:"all"==this.productLevel}),"All exchanges (All data)"),"individual"==this.productLevel&&t("div",null,t("strong",null,"Instrument Type"),t("label",null,t("input",{type:"checkbox",value:"future",onInput:this.handleCheckbox,checked:this.instrumType.indexOf("future")>=0}),"Futures"),t("label",null,t("input",{type:"checkbox",value:"option",onInput:this.handleCheckbox,checked:this.instrumType.indexOf("option")>=0}),"Options"),t("label",null,t("input",{type:"checkbox",value:"spread",onInput:this.handleCheckbox,checked:this.instrumType.indexOf("spread")>=0}),"Spreads")),"individual"==this.productLevel&&t("div",null,t("strong",null,"Asset Class"),t("app-multi-select",{id:"category",selectedItems:this.selectedCats,show:this.showCatOptions,options:this.showedCats,"options-length":this.categoryList.length,focusInput:this.focusCatOptions})),("individual"==this.productLevel||"complete"==this.productLevel)&&t("div",null,t("strong",null,"Exchange"),t("app-multi-select",{id:"exchange",selectedItems:this.selectedExs,show:this.showExOptions,options:this.showedExs,"options-length":this.exchangeList.length,focusInput:this.focusExOptions})))}static get is(){return"app-control"}static get encapsulation(){return"shadow"}static get properties(){return{categoryList:{state:!0},exchangeList:{state:!0},focusCatOptions:{state:!0},focusExOptions:{state:!0},instrumType:{type:"Any",attr:"instrum-type"},productLevel:{type:String,attr:"product-level"},searchTerm:{type:String,attr:"search-term"},selectedCats:{type:"Any",attr:"selected-cats"},selectedExs:{type:"Any",attr:"selected-exs"},showCatOptions:{state:!0},showedCats:{state:!0},showedExs:{state:!0},showExOptions:{state:!0}}}static get events(){return[{name:"newProductLevel",method:"newProductLevel",bubbles:!0,cancelable:!0,composed:!0},{name:"newSearch",method:"newSearch",bubbles:!0,cancelable:!0,composed:!0},{name:"newInstrumType",method:"newInstrumType",bubbles:!0,cancelable:!0,composed:!0},{name:"resetFilter",method:"resetFilter",bubbles:!0,cancelable:!0,composed:!0}]}static get listeners(){return[{name:"newProductLevel",method:"handleNewProductLevel"},{name:"filterOptions",method:"handleFilterOptions"},{name:"inputFocus",method:"handleInputFocus"}]}static get style(){return".wrap{height:100%}.input-wrap{padding-left:0;border:1px solid var(--app-black);border-radius:3px;cursor:text;margin-top:3px}label{display:block;padding-left:20px;vertical-align:baseline}input[type=checkbox],input[type=radio]{margin-left:-20px;position:absolute}.text-input{background-color:transparent;border:none;-webkit-box-shadow:none;box-shadow:none;width:100%;padding:0}.text-input:focus{outline:0}"}}class s{constructor(){this.selectedItems=[],this.options=[],this.createSelected=(e=>t("li",{class:"category-item"},e)),this.creatOptions=(e=>t("option",{value:e},e)),this.handleInput=(t=>{var e=RegExp(t.target.value,"i");this.filterOptions.emit({data:e,id:this.el.id})}),this.handleDelete=(t=>{var e=t.keyCode||t.charCode,s=this.el.shadowRoot.querySelector(".text-input");8!=e&&46!=e||""!=s.value||this.deleteSelect.emit({data:this.selectedItems.length-1,id:this.el.id})}),this.handleSelection=(t=>{var e=t.target.value,s=this.selectedItems.indexOf(e);s<0?this.newSelect.emit({data:e,id:this.el.id}):this.deleteSelect.emit({data:s,id:this.el.id}),this.el.shadowRoot.querySelector(".multi-select-option").value=""}),this.handleClick=(()=>{this.show||this.inputFocus.emit({id:this.el.id})})}componentDidUpdate(){this.focusInput&&this.el.shadowRoot.querySelector(".text-input").focus()}render(){return t("div",{class:"multi-select"},t("ul",{onClick:this.handleClick},this.selectedItems.map(this.createSelected),t("li",null,t("input",{class:"text-input",type:"text",onInput:this.handleInput,onKeyDown:this.handleDelete}))),t("select",{class:`multi-select-option ${this.show?"showdropdonw":""}`,size:this.optionsLength,onInput:this.handleSelection},this.options.map(this.creatOptions)))}static get is(){return"app-multi-select"}static get encapsulation(){return"shadow"}static get properties(){return{el:{elementRef:!0},focusInput:{type:Boolean,attr:"focus-input"},options:{type:"Any",attr:"options"},optionsLength:{type:Number,attr:"options-length"},selectedItems:{type:"Any",attr:"selected-items"},show:{type:Boolean,attr:"show"}}}static get events(){return[{name:"newSelect",method:"newSelect",bubbles:!0,cancelable:!0,composed:!0},{name:"deleteSelect",method:"deleteSelect",bubbles:!0,cancelable:!0,composed:!0},{name:"filterOptions",method:"filterOptions",bubbles:!0,cancelable:!0,composed:!0},{name:"inputFocus",method:"inputFocus",bubbles:!0,cancelable:!0,composed:!0}]}static get style(){return"ul{list-style:none;padding-left:0;border:1px solid var(--app-black);border-radius:3px;cursor:text;margin:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row wrap;flex-flow:row wrap}li{display:inline-block;margin:3px;padding:5px;border-radius:3px;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}.multi-select{margin-bottom:3px;position:relative}.text-input{background-color:transparent;border:none;-webkit-box-shadow:none;box-shadow:none;width:100%;padding:0}.text-input:focus{outline:0}.category-item{background-color:var(--app-black);color:#fff}.multi-select-option{display:none;width:100%;position:absolute;z-index:5}.showdropdonw{display:block}"}}export{e as AppControl,s as AppMultiSelect};